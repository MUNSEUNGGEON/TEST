(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-87009fc6"],{"39fa":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"contents-wrap"},[a("Location",{attrs:{location:t.location}}),a("div",{staticClass:"contents system"},[a("h2",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"camera-wrap divide-3"},[a("div",{staticStyle:{flex:"0 0 48%"}},[a("div",{staticClass:"contents-box"},[a("div",{staticClass:"grid-top"},[a("div",{staticClass:"grid-l title-m"},[t._v("VPU")]),a("div",{staticClass:"gird-r btns"},[a("button",{staticClass:"btn-s dark-blue",on:{click:t.showCreateVpuView}},[t._v("\n                +\n              ")]),a("button",{staticClass:"btn-s dark-blue",on:{click:t.deleteVPU}},[t._v("-")]),a("button",{staticClass:"btn-s dark-blue",on:{click:t.vpuRefresh}},[t._v("\n                refresh\n              ")])])])]),a("GridVxScroll",{ref:"vxScroll",attrs:{columns:t.vpuColumns,rows:t.vpuRows,context:t.context,frameworkComponents:t.frameworkComponents,getRowNodeId:function(t){return t.tvlId},rowSelection:"multiple"}})],1),a("div",{staticStyle:{flex:"0 0 4%"}}),a("div",{staticStyle:{flex:"0 0 48%"}},[a("div",{staticClass:"contents-box"},[a("div",{staticClass:"grid-top"},[a("div",{staticClass:"grid-l title-m"},[t._v("카메라")]),a("div",{staticClass:"gird-r btns"},[a("button",{staticClass:"btn-s dark-blue",on:{click:t.getCameraList}},[t._v("\n                refresh\n              ")])])])]),a("GridVxScroll",{ref:"cameraGrid",attrs:{columns:t.cameraColumns,rows:t.cameraRows,getRowNodeId:function(t){return t.tclId}}})],1)])]),a("customer-dialog",{attrs:{view:t.createVpuView,title:"VPU 추가",width:"60%",height:"700px"},on:{closeDialog:t.closeCreateVpuView}},[a("create-vpu-view",{on:{closeDialog:t.closeCreateVpuView,saveDialog:t.saveCreateVpuView}})],1)],1)},i=[],r=(a("b0c0"),a("d81d"),a("b3a2")),o=a("983a"),s=a("63be"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"detail-wrap"},[a("div",{staticClass:"create-preset"},[a("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.submitForm.apply(null,arguments)}}},[a("validation-observer",{ref:"validator"},[a("table",{staticClass:"detail-table"},[a("colgroup",[a("col",{attrs:{width:"20%"}}),a("col",{attrs:{width:""}})]),a("tbody",[a("tr",[a("th",[t._v("서버 명")]),a("td",[a("validation-provider",{attrs:{rules:"required|min:2|max:20",name:"서버 명"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tvlVpuName,expression:"tvlVpuName"}],staticClass:"input-text",staticStyle:{width:"400px"},attrs:{type:"text"},domProps:{value:t.tvlVpuName},on:{input:function(e){e.target.composing||(t.tvlVpuName=e.target.value)}}})])],1)]),a("tr",[a("th",[t._v("아이디")]),a("td",[a("validation-provider",{attrs:{rules:"required|max:20|alpha_num",name:"아이디"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.takApiId,expression:"takApiId"}],staticClass:"id",attrs:{type:"text",placeholder:"아이디",autocomplete:"off"},domProps:{value:t.takApiId},on:{input:function(e){e.target.composing||(t.takApiId=e.target.value)}}})])],1)]),a("tr",[a("th",[t._v("패스워드")]),a("td",[a("validation-provider",{attrs:{rules:"required|max:64",name:"PASSWORD"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.takApiPw,expression:"takApiPw"}],staticClass:"password",attrs:{type:"password",placeholder:"비밀번호",autocomplete:"off"},domProps:{value:t.takApiPw},on:{input:function(e){e.target.composing||(t.takApiPw=e.target.value)}}})])],1)]),a("tr",[a("th",[t._v("HOST")]),a("td",[a("validation-provider",{attrs:{rules:"required",name:"ssl"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.tvlIsSsl,expression:"tvlIsSsl"}],staticClass:"input-select",staticStyle:{width:"80px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tvlIsSsl=e.target.multiple?a:a[0]}}},t._l(t.sslList,(function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v("\n                      "+t._s(e.name)+"\n                    ")])})),0)]),t._v("\n                ://\n                "),a("validation-provider",{attrs:{rules:"required|ip",name:"ip"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tvlVpuIp,expression:"tvlVpuIp"}],staticClass:"input-text",staticStyle:{width:"150px"},attrs:{type:"text"},domProps:{value:t.tvlVpuIp},on:{input:function(e){e.target.composing||(t.tvlVpuIp=e.target.value)}}})]),t._v("\n                :\n                "),a("validation-provider",{attrs:{rules:"required|integer",name:"port"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tvlVpuPort,expression:"tvlVpuPort"}],staticClass:"input-text",staticStyle:{width:"80px"},attrs:{type:"text"},domProps:{value:t.tvlVpuPort},on:{input:function(e){e.target.composing||(t.tvlVpuPort=e.target.value)}}})]),a("button",{staticClass:"btn-s",staticStyle:{"margin-left":"10px"},on:{click:t.connectNewVpuHost}},[t._v("\n                  연결\n                ")])],1)]),a("tr",[a("th",[t._v("카메라 목록")]),a("td",{staticStyle:{height:"400px","justify-content":"center"}},[a("GridVXScroll",{ref:"vxScroll",attrs:{columns:t.newVpuCameraColumns,rows:t.newVpuCameraRows,getRowNodeId:function(t){return t.cameraId}}})],1)])])])])],1)]),a("div",{staticClass:"detail-btns",staticStyle:{"margin-top":"10px"}},[a("button",{staticClass:"btn-m blue",on:{click:t.createVpu}},[t._v("추가")]),a("button",{staticClass:"btn-m",on:{click:function(e){return t.$emit("closeDialog")}}},[t._v("취소")])])])},u=[],c=a("1da1"),d=(a("96cf"),{components:{GridVXScroll:o["a"]},data:function(){return{newVpuName:"",newVpuHost:"",tvlVpuName:"",takApiId:null,takApiPw:null,tvlVpuIp:"",tvlVpuPort:"",tvlIsSsl:0,sslList:[{name:"http",value:"0"},{name:"https",value:"1"}],newVpuCameraRows:[],newVpuCameraColumns:[{headerName:"카메라명",field:"tclCamName",maxWidth:460,cellClass:"grid-cell-centered"},{headerName:"GUID",field:"tclCamGuid",maxWidth:460,cellClass:"grid-cell-centered"}]}},methods:{submitForm:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$vxForm.isValid(t.$refs.validator);case 2:if(a=e.sent,!1!==a){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})))()},connectNewVpuHost:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$vxForm.isValid(t.$refs.validator);case 2:if(a=e.sent,!1!==a){e.next=5;break}return e.abrupt("return");case 5:n={takApiId:t.takApiId,takApiPw:t.takApiPw,tvlVpuName:t.tvlVpuName,tvlVpuIp:t.tvlVpuIp,tvlVpuPort:t.tvlVpuPort,tvlIsSsl:t.tvlIsSsl,cameras:t.newVpuCameraRows},t.$vxHttp.post("/lim-api/camera/list",n).then((function(e){var a=e.data;200==a.resCode?(t.$vxToast("VPU 연결에 성공했습니다."),t.newVpuCameraRows=a.list):t.$vxToast("VPU 연결에 실패했습니다.","error")})).catch((function(e){t.$vxToast(e.data.resMsg,"error")}));case 7:case"end":return e.stop()}}),e)})))()},createVpu:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$vxForm.isValid(t.$refs.validator);case 2:if(a=e.sent,!1!==a){e.next=5;break}return e.abrupt("return");case 5:n={takApiId:t.takApiId,takApiPw:t.takApiPw,tvlVpuName:t.tvlVpuName,tvlVpuIp:t.tvlVpuIp,tvlVpuPort:t.tvlVpuPort,tvlIsSsl:t.tvlIsSsl,cameras:t.newVpuCameraRows},t.$vxToast("VPU 정보가 추가되었습니다."),t.$emit("saveDialog"),t.$vxHttp.post("/lim-api/vpu/add",n).then((function(){}));case 9:case"end":return e.stop()}}),e)})))()}},created:function(){}}),p=d,m=a("2877"),v=Object(m["a"])(p,l,u,!1,null,null,null),f=v.exports,h=a("fa7d"),w=a("a026"),g=w["default"].extend({template:'\n      <span class="btn-link_txt" @click="popUp">\n      {{tvlVpuName}}\n      </span>\n  ',beforeMount:function(){this.tvlVpuName=this.params.value},methods:{popUp:function(){this.params.context.componentParent.setSelectedVpuId(this.params.data)}}}),C={components:{Location:r["a"],GridVxScroll:o["a"],CustomerDialog:s["a"],CreateVpuView:f},data:function(){return{location:[],title:"",context:{},createVpuView:!1,selectedVpuId:void 0,vpuRows:[],vpuColumns:[{headerCheckboxSelection:!0,checkboxSelection:!0,sortable:!1,maxWidth:50,resizable:!0},{headerName:"이름",field:"tvlVpuName",width:100,cellClass:"grid-cell-centered",cellRenderer:"cellLinkVpuText"},{headerName:"수집 스케줄",field:"scheduleCount",width:80,cellClass:"grid-cell-centered"},{headerName:"카메라 수",field:"cameraCount",width:50,cellClass:"grid-cell-centered"},{headerName:"호스트",field:"tvlVpuIp",width:100,cellClass:"grid-cell-centered"}],cameraRows:[],cameraColumns:[{headerName:"연결 상태",field:"cameraConnectState",width:100,cellClass:"grid-cell-centered",cellRenderer:function(t){return!0===t.data.cameraConnectState?"O":"X"}},{headerName:"이름",field:"tclCamName",width:150,cellClass:"grid-cell-centered"},{headerName:"수집 스케줄",field:"scheduleCount",width:80,cellClass:"grid-cell-centered"}],frameworkComponents:{cellLinkVpuText:g}}},methods:{init:function(){this.selectedVpuId=void 0},setSelectedVpuId:function(t){this.selectedVpuId=t.tvlId,this.getCameraList()},deleteVPU:function(){var t=this,e=this.$refs.vxScroll.gridApi.getSelectedRows();0!=e.length?this.$vxConfirm("선택 된 VPU를 삭제 하시겠습니까?",(function(){var a=e;t.$vxHttp.delete("/lim-api/vpu/delete",a).then((function(){t.$vxToast("VPU 가 삭제 되었습니다."),t.init(),t.getVpuList()}))})):this.$vxAlert("삭제할 VPU를 선택하세요.")},getVpuList:function(){var t=this;this.$vxHttp.get("/lim-api/vpu/list").then((function(e){var a=e.data;t.vpuRows=a.list}))},vpuRefresh:function(){this.init(),this.getVpuList(),this.getCameraList()},getCameraList:function(){var t=this;if(Object(h["c"])(this.selectedVpuId))this.cameraRows=[];else{var e={vpuId:this.selectedVpuId};this.$vxHttp.get("/lim-api/camera/list",e).then((function(e){var a=e.data;t.cameraRows=a.list}))}},showCreateVpuView:function(){this.createVpuView=!0},closeCreateVpuView:function(){this.createVpuView=!1},saveCreateVpuView:function(){this.closeCreateVpuView(),this.vpuRefresh()}},created:function(){var t=this;this.context={componentParent:this},this.title=this.$route.name,this.$route.matched.map((function(e){t.location.push(e.name)})),this.vpuRows=[],this.cameraRows=[]},mounted:function(){this.getVpuList()}},V=C,x=Object(m["a"])(V,n,i,!1,null,null,null);e["default"]=x.exports},"498a":function(t,e,a){"use strict";var n=a("23e7"),i=a("58a8").trim,r=a("c8d2");n({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"63be":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade-view"}},[t.view?a("div",{staticClass:"dialog-wrapper custom",class:[t.type]},[a("div",{staticClass:"dialog-box",style:{width:t.width}},[t.close?a("span",{staticClass:"btn-close",on:{click:t.doClose}},[t._v("닫기")]):t._e(),a("div",{staticClass:"dialog-header",class:{center:!t.close}},[t._t("header",(function(){return[t._v(t._s(t.title))]}))],2),a("div",{staticClass:"dialog-body",style:{height:t.height}},[t._t("default")],2),t.useFooter?a("div",{staticClass:"dialog-footer"},[t._t("footer")],2):t._e()])]):t._e()])},i=[],r={props:{view:{type:Boolean,default:!1,required:!0},title:{type:String,default:"알림"},close:{type:Boolean,default:!0},width:{type:String,default:"400px"},height:{type:String,default:"auto"},useFooter:{type:Boolean,default:!1},type:{type:String,default:"normal"}},methods:{doClose:function(){this.$emit("closeDialog")}}},o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);e["a"]=l.exports},"983a":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"grid-bottom"},[a("ag-grid-vue",{staticClass:"ag-theme-balham",attrs:{gridOptions:t.gridOptions,columnDefs:t.getColumns,rowData:t.rows,rowSelection:t.rowSelection,suppressRowClickSelection:"multiple"===t.rowSelection,getRowNodeId:t.getRowNodeId,defaultColDef:t.defaultColDef,overlayLoadingTemplate:t.overlayLoadingTemplate,frameworkComponents:t.frameworkComponents,context:t.context,suppressRowTransform:t.suppressRowTransform,tooltipShowDelay:0,enableBrowserTooltips:!0,rowDragManaged:t.rowDragManaged,animateRows:t.animateRows,suppressMoveWhenRowDragging:t.suppressMoveWhenRowDragging,undoRedoCellEditing:!0},on:{sortChanged:t.onSortChanged,"selection-changed":t.onSelectionChanged,rowClicked:t.onRowClicked,"cell-value-changed":t.onCellValueChanged,"row-drag-end":t.onRowDragEnd}})],1)},i=[],r=a("5530"),o=(a("159b"),a("4e82"),a("ac1f"),a("5319"),a("d81d"),a("401b")),s={components:{AgGridVue:o["AgGridVue"]},props:{columns:{type:Array,default:function(){return[]}},rows:{type:Array,default:function(){return[]}},disabledSortable:{type:Boolean,default:null},frameworkComponents:{type:Object,default:function(){return null}},context:{type:Object,default:function(){}},suppressRowTransform:{type:Boolean,default:!1},getRowNodeId:null,rowSelection:{type:String,default:"multiple"},wrapText:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},rowDragManaged:{type:Boolean,default:!1},animateRows:{type:Boolean,default:!1},suppressMoveWhenRowDragging:{type:Boolean,default:!1}},data:function(){return{defaultColDef:{suppressMovable:!0,resizable:!1,wrapText:this.wrapText,autoHeight:this.autoHeight},sortColumn:null,sortOrder:null,gridOptions:null,gridApi:null,overlayLoadingTemplate:'<span class="ag-overlay-loading-center"><div class="loader">Loading...</div></span>'}},methods:{onRowClick:function(t){if("cell"===t.targetType){var e=t.rowKey;this.$emit("rowClick",this.rows[e])}},onSortChanged:function(t){var e=this;this.sortColumn=null,this.sortOrder=null,t.columnApi.getColumnState().forEach((function(t){if(null!==t.sort)return e.sortColumn=t.colId,e.sortOrder="asc"===t.sort?1:2,!1})),this.doRefresh()},doRefresh:function(){var t={orderBy:this.sortColumn,sort:this.sortOrder};this.$emit("refresh",t)},camelToSnakeCase:function(t){return t.replace(/[A-Z]/g,(function(t){return"_".concat(t.toLowerCase())}))},sizeToFit:function(){this.gridApi.sizeColumnsToFit()},onSelectionChanged:function(){var t=this.gridApi.getSelectedRows();this.$emit("selectionChanged",t)},onRowClicked:function(){var t=this.gridApi.getSelectedRows();this.$emit("rowClicked",t[0])},onRowDragEnd:function(t){this.$emit("onRowDragEnd",t)},onCellValueChanged:function(t){var e=t.newValue,a=t.colDef,n=t.rowIndex,i=!1;i=this.rows.some((function(t,i){if(i!=n&&t[a.field]===e)return!0})),this.$emit("cellValueChanged",i)}},computed:{getColumns:function(){var t=this.disabledSortable;return null===t?this.columns:this.columns.map((function(e){return Object(r["a"])(Object(r["a"])({},e),{},{sortable:!t})}))}},beforeMount:function(){this.gridOptions={pagination:!1,paginationAutoPageSize:!1,headerHeight:41,rowHeight:38,localeText:{noRowsToShow:"데이터가 없습니다."}}},mounted:function(){this.gridApi=this.gridOptions.api,setTimeout(this.sizeToFit,100),window.addEventListener("resize",this.sizeToFit)},beforeDestroy:function(){window.removeEventListener("resize",this.sizeToFit)},watch:{rows:function(){setTimeout(this.sizeToFit,0)}}},l=s,u=a("2877"),c=Object(u["a"])(l,n,i,!1,null,null,null);e["a"]=c.exports},b3a2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"location-wrap"},[a("div",{staticClass:"location-box"},[a("ul",{staticClass:"location"},[a("li",[t._v("Home")]),t._l(t.location,(function(e,n){return a("li",{key:n},[t._v(t._s(e))])}))],2)])])},i=[],r=(a("d81d"),a("b0c0"),{data:function(){return{location:[]}},created:function(){var t=this;this.$route.matched.map((function(e){t.location.push(e.name)}))}}),o=r,s=a("2877"),l=Object(s["a"])(o,n,i,!1,null,null,null);e["a"]=l.exports},c8d2:function(t,e,a){var n=a("d039"),i=a("5899"),r="​᠎";t.exports=function(t){return n((function(){return!!i[t]()||r[t]()!=r||i[t].name!==t}))}},fa7d:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"b",(function(){return s}));a("ac1f"),a("5319"),a("498a");var n=a("a026"),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return t?("string"===typeof t&&(t=n["default"].moment(t,e.replace(/[- :]/g,""))),n["default"].moment(t).format(e)):""},r=function(t){return i(t,"YYYY.MM.DD")},o=function(t){return"undefined"===typeof t||null===t||""===String(t).trim()},s=function(t){return"undefined"!=typeof t&&null!=t&&""!=String(t).trim()}}}]);
//# sourceMappingURL=chunk-87009fc6.b3aecaa8.js.map